<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pointer 事件的 event 对象</title>
    <style>
      .box {
        width: 200px;
        height: 200px;
        background-color: red;

        touch-action: none;
      }
    </style>
  </head>
  <body style="height: 2000px">
    <div id="box" class="box"></div>
    <!-- <div id="box" class="box"><img src="./1.jpg" alt="" /></div> -->

    <script>
      // 1.event 对象的常用属性
      // pointerId 指针id（唯一标识符）
      // type 事件类型
      // pointerType 指针类型（鼠标/笔/触摸等）
      // target 目标元素
      // screenX/screenY 指针相对于屏幕左边缘的X、Y坐标
      // clientX/clientY 指针相对于可视区域左边缘的X、Y坐标。不包括任何滚动偏移
      // x/y clientX/clientY 的别名
      // pageX/pageY 指针相对于 HTML 文档左边缘的X、Y坐标。包括滚动偏移

      // 2.阻止浏览器的默认行为
      // 阻止 scrolling, pinch/zoom, 鼠标事件等默认行为
      // 2.1.Pointer 的事件处理函数中，evt.preventDefault() 阻止的是 PC 端的默认行为（不能阻止  scrolling, pinch/zoom, 鼠标事件等默认行为，可以阻止图片拖动的默认行为）
      // 2.2.1.可以在 touch 的事件处理函数中使用 evt.preventDefault() 阻止移动端的默认行为
      // 2.2.2.touch-action 设置触摸操作时浏览器的默认行为

      const $box = document.getElementById('box');
      $box.addEventListener('pointerover', pointerHandler, false);
      $box.addEventListener('pointerenter', pointerHandler, false);
      $box.addEventListener('pointerdown', pointerHandler, false);
      $box.addEventListener('pointermove', pointerHandler, false);
      $box.addEventListener('pointerup', pointerHandler, false);
      $box.addEventListener('pointerout', pointerHandler, false);
      $box.addEventListener('pointerleave', pointerHandler, false);
      $box.addEventListener('pointercancel', pointerHandler, false);

      // $box.addEventListener('touchstart', startHandler, false);

      // function startHandler(evt) {
      // 阻止移动端默认行为
      //   evt.preventDefault();
      // }

      function pointerHandler(evt) {
        // console.log(evt);
        // console.log(evt.pointerId);
        console.log(evt.type);
        // console.log(evt.pointerType);
        // console.log(evt.target);
        // console.log(evt.screenX, evt.screenY);
        // console.log(evt.clientX, evt.clientY);
        // console.log(evt.x, evt.y);
        // console.log(evt.pageX, evt.pageY);

        evt.preventDefault();
      }

      $box.addEventListener('mouseover', mouseHandler, false);
      $box.addEventListener('click', mouseHandler, false);

      function mouseHandler(evt) {
        console.log(evt.type);
      }
    </script>
  </body>
</html>
