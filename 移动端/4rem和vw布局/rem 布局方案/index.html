<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rem 布局方案</title>
    <style>
      img {
        width: 100%;
      }
      .tabbar-layout {
        position: fixed;
        bottom: 0;
        left: 0;
        box-shadow: 0 -4px 4px rgba(0, 0, 0, 0.15);

        /* width: 100%;
        height: 48px; */

        /* width: 750px;
        height: 96px; */

        /* width: 75rem;
        height: 9.6rem; */

        width: 75rem;
        height: 9.6rem;
      }
    </style>
    <style>
      html {
        /* 不用担心字体过大或过小，这里只是用来计算，不用来显示 */
        /* font-size: 10px; */
        /* font-size: 5px; */
      }
    </style>
    <script>
      // 1.原理
      // 750px / 96px

      // 宽高比不变
      //   75rem / 9.6rem
      // 宽和高可以随着屏幕大小的变化而变化
      //   当屏幕变化的时候修改 html 的字体大小

      // 1rem = html 字体大小
      // 设 1rem = 10px

      // 375px / 48px

      // viewWidth / 750px = ? / 10px
      // ? = viewWidth * 10px / 750px = viewWidth / 75

      // 2.实现
      {
        const docEl = document.documentElement;

        const setHtmlFontSize = () => {
          const viewWidth = docEl.clientWidth;

          docEl.style.fontSize = `${viewWidth / 75}px`;
        };

        setHtmlFontSize();
        window.addEventListener('resize', setHtmlFontSize, false);
      }

      // 安装 px2rem 插件，修改配置后需重启编辑器生效

      // 3.扩展 flexible
      // https://github.com/amfe/lib-flexible
      // 解决了 1px 边框问题
    </script>
  </head>
  <body>
    <div class="tabbar-layout">
      <img src="./tabbar.png" alt="标签栏" />
    </div>
  </body>
</html>
